<!DOCTYPE html>
    <html>
        <head>
            <title> Stadtfuehrer Muenster </title>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--_____LEAFLET CSS_____-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <!--_____LEAFLET DRAW CSS_____-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.css"/>
    <!--_____OWN CSS_____-->
    <link rel="stylesheet" href="css/stylesheet.css"/>
    <link rel="stylesheet" href="css/headerFooterCustom.css">
    <!--_____LEAFLET JAVASCRIPT_____-->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <!--_____LEAFLET DRAW JAVASCRIPT_____-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script>
    <!--_____JQUERY AJAX JAVASCRIPT_____-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <!--_____TURF.JS JAVASCRIPT_____-->
    <script src='https://unpkg.com/@turf/turf@6.3.0/turf.min.js'></script>
    <!-- BOOTSTRAP SOURCES-->
    <script src="js/wikipedia-data.js"></script>  

    <!--_____jQuery CDN_____-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--_____jQuery ui_____-->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <!--_____jQuery UI_____-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">

    <!--_____searchBar JAVA SCRIPT <script src="searchBar.js"></script>_____-->
    
        </head>

        <body>
        <div id="main" class="container-fluid no-gutters">
            <!--Navbar-->
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top p-1">
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
    
                <div class="collapse navbar-collapse" id="navbarContent">
                    <ul class="nav navbar-nav mr-auto mt-2 mt-lg-0">
                        <li class="nav-item">
                            <a class="nav-link text-light active rounded" href="index.html">Übersicht</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light rounded" href="sights_config.html">Sehenswürdigkeiten verwalten</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light rounded" href="tours_config.html">Routen verwalten</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!--Main Content-->
            <div id="contentFrame" class="d-flex justify-content-center flex-wrap align-items-center p-5">
                <div id="textContent" class=" col col-lg-4 col-12 rounded text-center">
                    <h1> Sehenswürdigkeiten in Münster</h1>
                    <div id="SearchRow">
                        <input  id="poisOnMap" type="search" placeholder="Search POI name..." aria-label="Search">
                        <script>
		
                            //GeoJSON Daten zum Testen des Autocompletes
                            let geojson = 
                    
                        { "type": "FeatureCollection",
                    "features": [
                      { "type": "Feature",
                        "geometry": {"type": "Point", "coordinates": [7.628056, 51.962222]},
                        "properties": {
                          "poiname": "Prinzipalmarkt",
                          "cityname": "Münster", 
                          "link": "https://flic.kr/p/4kbwjN", 
                          "link2": "https://live.staticflickr.com/2288/2186136858_214f8685f2_n.jpg" }
                      },
                      { "type": "Feature",
                        "geometry": {"type": "Point", "coordinates": [7.596000123049237, 51.96910828669141]},
                        "properties": {
                          "poiname": "GEO1",
                          "cityname": "Münster", 
                          "link": "http://geomundus.org/2014/images/geo2.jpg", 
                           "link2": "http://geomundus.org/2014/images/geo2.jpg"  }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [7.6131, 51.9637]},
                      "properties": {
                        "poiname": "Fürstbischöfliches Schloss",
                        "cityname": "Münster", 
                        "link": "https://flic.kr/p/2jaqZrE" , 
                           "link2": "https://live.staticflickr.com/65535/49989838756_4f282a4874_n.jpg"     }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [13.74, 51.05]},
                      "properties": {
                        "poiname": "Dresden",
                        "cityname": "Dresden", 
                        "link": "https://flic.kr/p/xFLCa1", 
                           "link2": "https://live.staticflickr.com/5784/20797109706_4926e40352_n.jpg"      }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [9.966111, 53.546111]},
                      "properties": {
                        "poiname": "Hamburger Hafen",
                        "cityname": "Hamburg", 
                        "link": "https://flic.kr/p/ugwtqM" , 
                        "link2": "https://live.staticflickr.com/520/18553682569_e69b6bae80_n.jpg"     }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [9.7375, 52.367222]},
                      "properties": {
                        "poiname": "Neues Rathaus",
                        "cityname": "Hannover", 
                        "link": "https://flic.kr/p/Lewsk8", 
                        "link2": "https://live.staticflickr.com/8195/29032754173_b6cc777166_n.jpg"      }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [13.377722, 52.516272]},
                      "properties": {
                        "poiname": "Brandenburger Tor",
                        "cityname": "Berlin", 
                        "link": "https://flic.kr/p/Fx7s3D" , 
                           "link2": "https://live.staticflickr.com/811/25949983617_3e2959a8e9_n.jpg"     }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [6.783333, 51.233333]},
                      "properties": {
                       "poiname": "Düsseldorf",
                       "cityname": "Düsseldorf", 
                       "link": "https://flic.kr/p/7nTYJg", 
                           "link2": "https://live.staticflickr.com/2687/4185928571_946dee0f20_n.jpg"  }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [8.684444, 50.113611]},
                      "properties": {
                      "poiname": "Frankfurt Altstadt",
                      "cityname": "Frankfurt am Main", 
                      "link": "https://flic.kr/p/2izHsWG", 
                       "link2": "https://live.staticflickr.com/65535/49608292196_e66a29859a_n.jpg" }
                      },
                      { "type": "Feature",
                      "geometry": {"type": "Point", "coordinates": [11.578947, 48.14065]},
                      "properties": {
                        "poiname": "Antiquarium",
                        "cityname": "München", 
                        "link": "https://flic.kr/p/2axWda3", 
                           "link2": "https://live.staticflickr.com/65535/44337291772_f78486053b_n.jpg"      }
                      }
                      ]
                    }
                        
                            
                            
                            //Die JSON-Objekte abrufen
                            let poisOnMap = geojson.features
                            //Teste über Konsole, ob JSON-Objekte übergeben werden
                            console.log(poisOnMap)
                            
                            //Die POI Namen abrufen
                            let poiNames = poisOnMap.map(function(el){
                                return el.properties.poiname
                            })
                            console.log(poiNames)
                            
                            
                            
                            //Beim Ausfüllen Autocomplete verwenden
                            $( "#poisOnMap").autocomplete({
                                //Start nach Anzahl der Zeichen festlegen
                                minLength: 1,
                                //Die Datenquelle für Autocomplete festlegen
                                source: poiNames,
                                select: function(event, ui){
                                    this.value = ui.item.value
                                    
                                    let details = poisOnMap.filter(function (el){
                                        return el.properties.poiname === ui.item.value
                                    })
                                    return false
                                }
                            })
                            
                            
                            
                            
                            
                            
                        </script>
                    </div>
                    <div id="introduction">                
                    </div>  
                </div>
            <div id="mapid" class="col col-lg-8 col-12 border border-dark rounded align-self-lg-end"></div>
            <script src="js/busInfo.js"></script>
            <script src="js/indexSideMap.js"></script>
        </div>
        </div>
        <!-- FOOTER-->
        <footer id="myFooter" class="row col col-12 bg-dark d-flex flex-column align-items-left">
            <div class="row col col-12 d-flex flex-column ">
                <p><b>Links</b><br>
                    <a href="https://www.uni-muenster.de/de/">University</a><br>
                    <a href="https://github.com/TobiasBrand-GI/Geosoftware1">GitHub Repository</a>
                </p>
            </div>
            <div id="copyrightText" class="footer-copyright">
                <p>© 2021 Geosoftware Project </p>
            </div>
    </footer>

<!-- JQUERY AND BOOTSTRAP JAVASCRIPT-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
</body>
    </html>

